process {
    executor = 'local'   // Use local executor, or use 'slurm', 'pbs', etc., based on your environment.
    maxForks = 10        // Max number of parallel jobs allowed

    withName: CNV_calling {
        beforeScript = '''
            module load StdEnv/2023
            module load apptainer/1.3.5
        '''
        module = 'apptainer/1.3.5'
        container = '/home/flben/projects/rrg-jacquese/All_user_common_folder/SOFTWARE/pgc-tcag_v2_latest.sif'
        }


    withName: collect_plink_data {
        beforeScript = '''
            module load StdEnv/2020
            module load plink/1.9b_6.21-x86_64
        '''
    }
    
    withName: generate_gcmodel {
        beforeScript = '''
            module load StdEnv/2023
            module load bedtools/2.31.0
        '''
    }
}

nextflow.enable.moduleBinaries = true