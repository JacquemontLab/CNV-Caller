process {
            
        withName: collect_plink_metadata {
            beforeScript = '''
                module load StdEnv/2020
                module load plink/1.9b_6.21-x86_64
            '''
        }
            
        withName: generate_gcmodel {
            beforeScript = '''
                module load StdEnv/2023
                module load bedtools/2.31.0
            '''
        }      

        withName: CNV_calling {
            module = 'apptainer/1.3.5'
            container = '/home/flben/projects/rrg-jacquese/All_user_common_folder/SOFTWARE/pgc-tcag_v2_latest.sif'
            }
}

nextflow.enable.moduleBinaries = true

apptainer {
  autoMounts = true
  enabled = true
}